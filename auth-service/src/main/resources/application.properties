# ============================================
# APPLICATION SETTINGS
# ============================================
# This is the name of our microservice
# Used by Spring Cloud for service discovery (we'll use this in later weeks)
spring.application.name=auth-service

# The port our application runs on
# Later, each microservice will have its own port (auth=8081, patient=8082, etc.)
server.port=8081


# ============================================
# DATABASE CONFIGURATION (PostgreSQL)
# ============================================

# ------------------------------------------
# spring.datasource.* - Connection settings
# ------------------------------------------
# The JDBC URL tells Java how to connect to the database:
#   jdbc:postgresql://  = Use PostgreSQL protocol
#   localhost:5432      = Database server address and port
#   auth_db             = The database name
# 
# IMPORTANT: You must create this database in PostgreSQL first!
# In pgAdmin or psql, run: CREATE DATABASE auth_db;
spring.datasource.url=jdbc:postgresql://localhost:5432/auth_db

# Database credentials
# In production, NEVER hardcode these - use environment variables!
# We'll cover secure configuration in Phase 2 with Spring Cloud Config
spring.datasource.username=postgres
spring.datasource.password=postgres

# The JDBC driver class that handles PostgreSQL connections
# Spring Boot can auto-detect this, but being explicit is good practice
spring.datasource.driver-class-name=org.postgresql.Driver


# ============================================
# JPA / HIBERNATE SETTINGS
# ============================================

# ------------------------------------------
# spring.jpa.hibernate.ddl-auto - Schema Management
# ------------------------------------------
# This tells Hibernate what to do with database tables on startup:
#
#   none    = Do nothing (production setting - you manage schema manually)
#   validate= Check that entities match existing tables (fails if mismatch)
#   update  = Update tables to match entities (SAFE for development)
#   create  = Drop all tables and recreate on each startup (loses data!)
#   create-drop = Like create, but also drops tables when app stops
#
# For development, "update" is perfect - it creates new tables and adds
# new columns without losing existing data.
# ⚠️ WARNING: NEVER use "create" or "create-drop" with real data!
spring.jpa.hibernate.ddl-auto=update

# ------------------------------------------
# spring.jpa.show-sql - SQL Logging
# ------------------------------------------
# When true, prints every SQL statement Hibernate executes to the console.
# EXTREMELY useful for learning and debugging!
# Turn off in production for performance.
spring.jpa.show-sql=true

# ------------------------------------------
# spring.jpa.properties.hibernate.format_sql
# ------------------------------------------
# When true, formats the SQL output to be readable (with line breaks and indentation)
# Instead of: select user0_.id as id1_0_, user0_.email as email2_0_ from users user0_
# You'll see:
#   select
#       user0_.id as id1_0_,
#       user0_.email as email2_0_
#   from
#       users user0_
spring.jpa.properties.hibernate.format_sql=true

# ------------------------------------------
# spring.jpa.database-platform - Dialect
# ------------------------------------------
# The "dialect" tells Hibernate which SQL flavor to generate.
# Different databases have slightly different SQL syntax.
# PostgreSQL uses: PostgreSQLDialect
# MySQL would use: MySQLDialect
#
# Spring Boot can auto-detect this, but being explicit avoids surprises.
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect


# ============================================
# LOGGING CONFIGURATION
# ============================================
# Log levels: TRACE < DEBUG < INFO < WARN < ERROR

# Show what Spring Security is doing (very helpful for debugging auth issues)
logging.level.org.springframework.security=DEBUG

# Show SQL parameter values (the ? in prepared statements)
# Without this, you'd see: ... where email=?
# With this, you'd see: ... where email='john@example.com'
logging.level.org.hibernate.orm.jdbc.bind=TRACE

# General app logging
logging.level.com.ganainy.authservice=DEBUG
